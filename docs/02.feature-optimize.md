## 需求概述

本次功能优化主要包含三个核心功能：用户名称标识、分享历史记录和可配置文本长度限制。目标是提升用户体验，增强产品的个性化和易用性，同时提供更灵活的配置管理能力。

## 功能点拆分与依赖

| 功能点序号 | 功能点名称 | 功能点描述 | 前置依赖 |
|------------|------------|------------|----------|
| 1          | 环境变量配置文本长度限制 | 通过 .env 文件配置文本最大长度，支持 process.env 读取，默认值为 200 字符 | 无 |
| 2          | 用户名称输入功能 | 在首页分享表单中新增可选的用户名称输入框，用于标识分享者身份 | 1 |
| 3          | 分享页面用户名称展示 | 在分享页面标题区域展示 "xxx 分享的文本" 格式，支持匿名分享时的默认展示 | 2 |
| 4          | localStorage 分享历史存储 | 实现本地分享历史的存储逻辑，记录分享的基本信息（ID、标题、创建时间、过期时间、用户名称） | 2 |
| 5          | 分享历史列表组件 | 在首页输入框下方展示分享历史列表，包含分享记录和剩余过期时间的实时计算 | 4 |
| 6          | 分享历史交互功能 | 实现分享历史的查看、删除和一键跳转功能，提升用户操作体验 | 5 |

## 详细实现说明

### 功能点 1：环境变量配置文本长度限制
- 创建 `.env.local` 文件，定义 `MAX_TEXT_LENGTH=200`
- 修改前端组件和后端 API，使用 `process.env.MAX_TEXT_LENGTH` 替换硬编码的长度限制
- 提供默认值机制，当环境变量未配置时使用 200 字符

### 功能点 2：用户名称输入功能
- 在首页表单中新增可选的用户名称输入框
- 字段验证：最大长度限制、特殊字符过滤
- 提交时将用户名称包含在请求数据中

### 功能点 3：分享页面用户名称展示
- 修改分享页面标题，根据是否有用户名称显示不同格式
- 有用户名称："{用户名称} 分享的文本"
- 无用户名称：保持原有的 "分享的文本" 标题

### 功能点 4：localStorage 分享历史存储
- 定义分享历史数据结构
- 在成功创建分享后，将记录存储到 localStorage
- 实现历史记录的增删改查功能

### 功能点 5：分享历史列表组件
- 创建历史记录展示组件
- 实现过期时间的实时倒计时显示
- 支持空状态和加载状态的处理

### 功能点 6：分享历史交互功能
- 点击历史记录可直接跳转到分享页面
- 提供删除单条记录和清空所有记录的功能
- 过期记录的自动清理或标识处理