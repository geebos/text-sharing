# QRCodeDisplay 组件文档

## 概述

`QRCodeDisplay` 是一个可复用的二维码显示组件，用于在应用中生成和显示二维码。该组件支持多种尺寸、样式和配置选项。

## 特性

- 🎨 **多种尺寸**: 支持 small、medium、large 三种尺寸
- 🖼️ **自定义样式**: 可配置边框样式（实线/虚线）
- 🔄 **加载状态**: 内置加载动画和错误处理
- 📱 **预览模式**: 支持预览模式显示
- 🎯 **高度可配置**: 丰富的配置选项满足不同场景需求

## 使用方法

### 基本使用

```tsx
import QRCodeDisplay from '@/app/components/QRCodeDisplay';

// 最简单的使用方式
<QRCodeDisplay content="https://example.com" />
```

### 完整配置示例

```tsx
<QRCodeDisplay
  content="https://example.com"
  size="large"
  showTitle={true}
  title="分享二维码"
  showDescription={true}
  description="扫描二维码快速访问"
  isPreview={false}
  placeholderText="生成中..."
  showBorder={true}
  borderStyle="dashed"
  className="my-custom-class"
/>
```

## API 参数

| 参数 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| `content` | `string` | - | **必需**。要生成二维码的内容 |
| `size` | `'small' \| 'medium' \| 'large'` | `'medium'` | 二维码尺寸 |
| `showTitle` | `boolean` | `true` | 是否显示标题 |
| `title` | `string` | `'分享二维码'` | 自定义标题文本 |
| `showDescription` | `boolean` | `true` | 是否显示描述 |
| `description` | `string` | `'扫描二维码快速访问'` | 自定义描述文本 |
| `isPreview` | `boolean` | `false` | 是否为预览模式 |
| `placeholderText` | `string` | `'生成中...'` | 加载时的占位文本 |
| `className` | `string` | `''` | 容器的额外样式类 |
| `showBorder` | `boolean` | `true` | 是否显示边框 |
| `borderStyle` | `'solid' \| 'dashed'` | `'dashed'` | 边框样式 |

## 尺寸说明

- **small**: 96x96 像素 (w-24 h-24)
- **medium**: 192x192 像素 (w-48 h-48)
- **large**: 256x256 像素 (w-64 h-64)

## 状态处理

组件内置了以下状态处理：

1. **加载状态**: 显示旋转动画和占位文本
2. **错误状态**: 显示错误图标和错误信息
3. **空内容**: 显示占位提示文本
4. **成功状态**: 显示生成的二维码

## 使用场景

### 1. Result 页面 - 大尺寸展示

```tsx
<QRCodeDisplay
  content={shareUrl}
  size="large"
  showTitle={true}
  title="分享二维码"
  showDescription={true}
  description="扫描二维码快速访问"
  showBorder={true}
  borderStyle="dashed"
/>
```

### 2. TextView 预览模式 - 小尺寸预览

```tsx
<QRCodeDisplay
  content={previewUrl}
  size="small"
  showTitle={true}
  title="分享二维码"
  showDescription={true}
  description="扫描二维码获取文本内容"
  isPreview={true}
  placeholderText="输入内容后显示二维码"
  showBorder={true}
  borderStyle="solid"
/>
```

### 3. TextView 正常模式 - 中等尺寸

```tsx
<QRCodeDisplay
  content={textContent}
  size="medium"
  showTitle={true}
  title="分享二维码"
  showDescription={true}
  description="扫描二维码获取文本内容"
  showBorder={true}
  borderStyle="solid"
/>
```

## 技术实现

- 使用 `qrcode` 库生成二维码
- 支持自定义二维码配置（宽度、边距、颜色等）
- 响应式设计，适配不同屏幕尺寸
- 使用 Tailwind CSS 进行样式管理
- 内置错误边界和异常处理

## 注意事项

1. `content` 参数为必需参数，不能为空
2. 在预览模式下，空内容会显示占位文本而不是错误
3. 组件会自动处理二维码生成失败的情况
4. 建议在使用前确保 `qrcode` 依赖已正确安装

## 更新日志

- **v1.0.0**: 初始版本，支持基本的二维码生成和显示功能
- 抽离自 Result 页面和 TextView 组件的二维码逻辑
- 统一了二维码的显示样式和交互逻辑
